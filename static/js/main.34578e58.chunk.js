(this["webpackJsonpreact-firebase-boilerplate"]=this["webpackJsonpreact-firebase-boilerplate"]||[]).push([[0],{104:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(29),i=n.n(c),s=n(24),o=n(40),u=n(46),d=n(28),l=(n(66),n(30)),b=Object(d.a)({reducer:{app:l.b},middleware:Object(u.a)(Object(d.c)())}),f=n(37),p=n(9),j=n(32),m=n(35),h=n.n(m),g=(n(70),function(){return Object(a.useEffect)((function(){return h.a.start(),function(){h.a.done()}})),""}),v=n(42),O=n(6),x=r.a.lazy((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,176))})),w=r.a.lazy((function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,177))}));var k=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.app})),n=t.checked,r=t.loggedIn;return Object(a.useEffect)((function(){e(l.a.authenticate())}),[]),n?Object(O.jsx)(f.a,{children:Object(O.jsx)(a.Suspense,{fallback:Object(O.jsx)(g,{}),children:r?Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{path:j.b.dashboard,children:Object(O.jsx)(w,{})}),Object(O.jsx)(p.a,{to:j.b.dashboard})]}):Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{path:"/",children:Object(O.jsx)(x,{})}),Object(O.jsx)(p.a,{to:"/"})]})})}):Object(O.jsx)("div",{className:"app-loader-container",children:Object(O.jsx)(v.a,{size:"4rem",color:"white",isLoading:!0})})};var y=function(){return Object(a.useEffect)((function(){Object(o.b)()}),[]),Object(O.jsx)(s.a,{store:b,children:Object(O.jsx)("div",{"data-testid":"app",className:"app",children:Object(O.jsx)(k,{})})})},I=(n(100),n(101),n(102),n(103),n(104),n(105),n(106),function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,175)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))});i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root")),I()},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(22);n(68),n(108),n(109),n(110),n(111);a.a.initializeApp({apiKey:"AIzaSyDvQC-Rxi32r18vMsv26NgGmVcNtzD_M_E",authDomain:"dzaja-projekat-4b9c1.firebaseapp.com",databaseURL:"https://dzaja-projekat-4b9c1.firebaseio.com",projectId:"dzaja-projekat-4b9c1",storageBucket:"dzaja-projekat-4b9c1.appspot.com",messagingSenderId:"304218335336",appId:"1:304218335336:web:f28042d42fe87a4aeb33dd"}),a.a.analytics();var r=a.a.auth(),c=(a.a.storage().ref(),a.a.performance(),a.a.firestore());a.a},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(25),r=n(17),c=n(19),i=n.n(c),s=n(28),o=n(21),u=n(112),d=Object(s.b)({name:"app",initialState:{checked:!1,loggedIn:!1,me:{}},reducers:{setMe:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{me:t.payload.me,loggedIn:t.payload.loggedIn,checked:!0})},setLoggedIn:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{loggedIn:t.payload})}}}),l=function(){return function(e){o.a.onAuthStateChanged(function(){var t=Object(a.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e(d.actions.setMe({loggedIn:!1,checked:!0,me:{}})));case 2:return t.next=4,o.b.collection("users").doc(null===n||void 0===n?void 0:n.uid).get();case 4:return a=t.sent,t.abrupt("return",e(d.actions.setMe({loggedIn:(null===n||void 0===n?void 0:n.emailVerified)&&a.exists,me:a.exists?Object(r.a)({id:null===n||void 0===n?void 0:n.uid,emailVerified:null===n||void 0===n?void 0:n.emailVerified},a.data()):{},checked:!0})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},b=Object(r.a)(Object(r.a)({},d.actions),{},{authenticate:l,signup:function(e){var t=e.fullName,n=e.email,r=e.password;return function(){return new Promise(function(){var e=Object(a.a)(i.a.mark((function e(a,c){var s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.createUserWithEmailAndPassword(n,r);case 3:return s=e.sent,d=s.user,e.next=7,d.sendEmailVerification();case 7:return e.next=9,o.b.collection("users").doc(d.uid).set({id:Object(u.a)(),fullName:t,email:n});case 9:a(d),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}())}},login:function(e){var t=e.email,n=e.password;return function(e){return new Promise(function(){var r=Object(a.a)(i.a.mark((function a(r,c){var s,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.signInWithEmailAndPassword(t,n);case 3:if(s=a.sent,(u=s.user)||c(new Error("Failed to login. please try it again later")),u.emailVerified){a.next=9;break}return a.next=9,u.sendEmailVerification();case 9:e(l()),r(u),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),c(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}())}},logout:function(){return function(e){return new Promise(function(){var t=Object(a.a)(i.a.mark((function t(n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.signOut();case 3:e(d.actions.setMe({checked:!0,loggedIn:!1,me:{}})),n(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}())}},resetPassword:function(e){return function(){return o.a.sendPasswordResetEmail(e)}}});t.b=d.reducer},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={login:"/login",signup:"/signup",profile:"/profile",resetPassword:"/reset-password",confirmEmail:"/confirm-email",dashboard:"/dashboard"},r={greeting:"/dashboard/greeting",suppliers:"/dashboard/suppliers",customers:"/dashboard/customers"}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n(1);var a=n(48),r=n(23),c=n(31),i=n(6),s=function(e){var t=e.name,n=e.className,r=e.style;return Object(i.jsx)(a.a,{icon:t,className:n,style:r})};s.defaultProps={name:"",className:"",style:{}};var o=s,u=function(){return r.b.add(c.b,c.a,c.c)};t.a=o},42:function(e,t,n){"use strict";var a=n(17),r=n(39),c=n(50),i=n(6),s=["color","size","isLoading"],o=function(e){var t=e.color,n=e.size,o=e.isLoading,u=Object(r.a)(e,s);return Object(i.jsx)(c.ClipLoader,Object(a.a)({color:t,size:n,loading:o},u))};o.defaultProps={color:"black",size:"1.5rem",isLoading:!1};var u=o;t.a=u}},[[107,1,2]]]);
//# sourceMappingURL=main.34578e58.chunk.js.map